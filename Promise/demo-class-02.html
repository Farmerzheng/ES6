<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>回调函数应用</title>
</head>

<body>
  <script>
  // 利用回调函数处理异步操作
  // url 请求的网址
  // func 请求成功后的回调

  function ajax(url, func) {
    var xhr = new XMLHttpRequest(); 
    xhr.open("GET",url);
    xhr.onreadystatechange = () => {
      // xhr.status http状态码
      // xhr.readyState 网络传输的最后一步
      if (xhr.status == 200 && xhr.readyState == 4) {
        // 条件满足，执行会回调函数
        func(xhr.responseText);
      }
    }
  
    xhr.send();
  }
  
  // 使用ajax必须有服务器环境
  ajax("./post.json",function(res){
     console.log(res);
  })
  </script>
</body>

</html>